{
  "_metadata": {
    "version": "2.0",
    "description": "统一配置文件 - 整合所有NAS操作和媒体同步配置",
    "last_updated": "02/09/2025",
    "author": "Celestial"
  },
  
  "nas_settings": {
    "host": "192.168.200.103",
    "username": "edge_sync",
    "ssh_alias": "nas-edge",
    "base_path": "/volume1/homes/edge_sync/drone_media",
    "backup_path": "EdgeBackup",
    "description": "NAS服务器连接配置"
  },
  
  "local_settings": {
    "media_path": "/data/temp/dji/media/",
    "temp_path": "/tmp/media",
    "log_path": "/home/celestial/dev/esdk-test/Edge-SDK/celestial_nasops/logs",
    "description": "本地存储路径配置"
  },
  
  "sync_settings": {
    "interval_minutes": 10,
    "max_retry_attempts": 3,
    "retry_delay_seconds": 5,
    "enable_checksum": true,
    "delete_after_sync": true,
    "safe_delete_delay_minutes": 30,
    "sync_timeout_seconds": 300,
    "enable_atomic_transfer": true,
    "temp_file_prefix": ".tmp_",
    "verify_remote_before_delete": true,
    "description": "同步行为配置"
  },
  
  "file_organization": {
    "enable_date_structure": true,
    "date_format": "%Y/%m/%d",
    "example": "20230815_100000.mp4 -> /EdgeBackup/2023/08/15/20230815_100000.mp4",
    "description": "文件组织结构配置"
  },
  
  "concurrency_control": {
    "enable_file_lock": true,
    "lock_timeout_seconds": 3600,
    "lock_dir": "/home/celestial/dev/esdk-test/Edge-SDK/celestial_nasops/logs",
    "max_concurrent_syncs": 1,
    "description": "并发控制配置"
  },
  
  "storage_management": {
    "enable_storage_check": true,
    "warning_threshold_percent": 80,
    "critical_threshold_percent": 90,
    "cleanup_target_percent": 70,
    "check_interval_minutes": 60,
    "status_file": "storage_status.json",
    "enable_auto_cleanup": true,
    "description": "存储空间管理配置",
    "cleanup_rules": [
      {
        "name": "日志文件清理",
        "path_pattern": "*/logs/*",
        "file_extension": ".log",
        "max_age_days": 7,
        "priority": 1,
        "enabled": true
      },
      {
        "name": "临时文件清理",
        "path_pattern": "*/temp/*",
        "file_extension": "*",
        "max_age_days": 1,
        "priority": 2,
        "enabled": true
      },
      {
        "name": "旧媒体文件清理",
        "path_pattern": "*/media/*",
        "file_extension": ".jpg",
        "max_age_days": 30,
        "priority": 3,
        "enabled": true
      },
      {
        "name": "视频文件清理",
        "path_pattern": "*/media/*",
        "file_extension": ".mp4",
        "max_age_days": 60,
        "priority": 4,
        "enabled": true
      }
    ]
  },
  
  "logging": {
    "level": "INFO",
    "log_file": "/home/celestial/dev/esdk-test/Edge-SDK/celestial_nasops/logs/media_sync.log",
    "max_file_size_mb": 10,
    "backup_count": 5,
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    "description": "日志记录配置"
  },
  
  "monitoring": {
    "enable_health_check": true,
    "health_check_interval_minutes": 30,
    "alert_thresholds": {
      "disk_usage_percent": 85,
      "sync_failure_count": 5,
      "connection_timeout_seconds": 30
    },
    "description": "系统监控和告警配置"
  },
  
  "security": {
    "ssh_key_path": "/home/celestial/.ssh/id_rsa",
    "connection_timeout_seconds": 30,
    "max_concurrent_transfers": 3,
    "description": "安全和连接配置"
  }
}